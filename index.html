<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jessie Math -  è§’æŸ±èˆ‡åœ“æŸ±PRO</title>

    <meta name="description" content="Â© 2025â€“2026 Jessie Math æ·æè€å¸«. All rights reserved.">

    <meta property="og:title" content="Jessie Math -  è§’æŸ±èˆ‡åœ“æŸ±PRO">
    <meta property="og:description" content="Â© 2025â€“2026 Jessie Math æ·æè€å¸«. All rights reserved.">
    <meta property="og:type" content="website">

    <meta property="og:image" content="g6-u15-1.png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1536">
    <meta property="og:image:alt" content="Jessie Math éŠæˆ²å°é¢">

    <link rel="image_src" href="g6-u15-1.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Jessie Math -  è§’æŸ±èˆ‡åœ“æŸ±PRO">
    <meta name="twitter:description" content="Â© 2025â€“2026 Jessie Math æ·æè€å¸«. All rights reserved.">
    <meta name="twitter:image" content="g6-u15-1.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        :root {
            --primary-blue: #4A90E2;
            --jessie-yellow: #FFD700;
            --text-dark: #333;
            --bg-light: #f9fbfd;
        }

        body {
            font-family: "Microsoft JhengHei", sans-serif;
            margin: 0;
            background-color: var(--bg-light);
            color: var(--text-dark);
        }

        /* Hero å°èˆªå€ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            gap: 14px;
            flex-wrap: wrap;
        }

        .brand {
            display: flex;
            align-items: center;
            min-width: 220px;
        }

        .brand-icon {
            width: 50px;
            height: 50px;
            border: 3px solid var(--jessie-yellow);
            border-radius: 50%;
            margin-right: 15px;
            background: url('JESSIEMATH-Q.png') no-repeat center center;
            background-size: contain;
            flex: 0 0 auto;
        }

        .brand-name {
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            line-height: 1.1;
        }

        .nav-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .nav-btn {
            padding: 8px 18px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: 0.3s;
            border: 1.5px solid #ddd;
            color: #555;
            white-space: nowrap;
        }

        .nav-btn:hover { background: #f0f0f0; }
        .btn-return { border-color: #9b59b6; color: #9b59b6; }

        /* éŠæˆ²å®¹å™¨ */
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .page { display: none; }
        .active { display: block; }

        input[type="text"], input[type="number"] {
            padding: 12px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 8px;
            width: 250px;
            margin: 20px 0;
            max-width: 100%;
            box-sizing: border-box;
        }

        .btn-start {
            background: var(--primary-blue);
            color: white;
            padding: 12px 40px;
            border: none;
            border-radius: 8px;
            font-size: 20px;
            cursor: pointer;
        }

        /* é¸é—œå¡é æ–°å¢æ¨¡å¼å€ */
        .mode-wrap{
            margin: 10px 0 18px;
            text-align: left;
        }
        .mode-title{
            font-weight: 800;
            color: #2c3e50;
            margin: 6px 0 10px;
        }
        .mode-grid{
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 10px;
        }
        .mode-card{
            border: 1.5px solid #e5e5e5;
            background: #fbfbfb;
            border-radius: 14px;
            padding: 12px 12px;
            cursor: pointer;
            transition: .25s;
            user-select: none;
        }
        .mode-card:hover{ transform: translateY(-1px); background: #f6f9ff; border-color: #d7e3ff; }
        .mode-card.active{
            border-color: rgba(74,144,226,.55);
            background: rgba(74,144,226,.08);
            box-shadow: 0 8px 20px rgba(74,144,226,.15);
        }
        .mode-name{ font-weight: 900; color: #2c3e50; }
        .mode-time{ margin-top: 6px; font-weight: 700; color: #566; }
        .mode-badge{
            display:inline-block;
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid #ddd;
            margin-left: 8px;
            color: #566;
            background: #fff;
        }

        /* é—œå¡é¸å–® */
        .level-card {
            background: #f1f8ff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            border-left: 5px solid var(--primary-blue);
            text-align: left;
        }

        .level-card:hover { transform: scale(1.02); background: #e1f0ff; }

        /* éŠæˆ²è³‡è¨Šæ¬„ */
        .game-status {
            display: flex;
            justify-content: space-around;
            background: #eee;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: bold;
            flex-wrap: wrap;
            gap: 10px;
        }

        .combo-text { color: #e67e22; font-size: 24px; }
        .hidden { display: none; }

        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        th, td { padding: 10px; border-bottom: 1px solid #ddd; }

        /* é¡Œç›® + åœ–ç‰‡æ”¾å¤§ */
        #qText{
            font-size: 24px;
            line-height: 1.4;
            margin: 10px 0 12px;
        }

        .image-placeholder {
            background: #f0f0f0;
            min-height: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
            border-radius: 10px;
            border: 1px dashed #ccc;
            padding: 12px;
            box-sizing: border-box;
        }

        .image-placeholder svg { width: 100%; max-width: 720px; height: auto; }

        /* ä½œç­”å€å›é¥‹ */
        .feedback-box{
            margin: 12px 0 6px;
            padding: 12px 14px;
            border-radius: 10px;
            font-weight: 700;
            text-align: left;
            line-height: 1.5;
            border: 1px solid #ddd;
            background: #fafafa;
        }
        .feedback-ok{
            border-color: rgba(39,174,96,.35);
            background: rgba(39,174,96,.08);
            color: #1f7a47;
        }
        .feedback-bad{
            border-color: rgba(231,76,60,.35);
            background: rgba(231,76,60,.08);
            color: #b03a2e;
        }
        .feedback-hint{
            font-size: 14px;
            font-weight: 600;
            opacity: .9;
            margin-top: 6px;
        }

        /* Action Buttons */
        .action-bar{
            margin-top: 30px;
            display:flex;
            gap:10px;
            justify-content:center;
            flex-wrap:wrap;
        }
        .pill-btn{
            appearance: none;
            border: 1.5px solid #dcdcdc;
            background: #ffffff;
            color: #2c3e50;
            padding: 12px 18px;
            border-radius: 999px;
            font-weight: 800;
            cursor: pointer;
            transition: .25s;
            min-width: 170px;
            box-shadow: 0 10px 22px rgba(0,0,0,.06);
        }
        .pill-btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,0,0,.10); }
        .pill-btn.primary{
            border-color: rgba(74,144,226,.45);
            background: rgba(74,144,226,.10);
        }

        /* Footer */
        footer{
            padding: 18px 0 28px;
        }
        .footer-pill{
            max-width: 880px;
            margin: 0 auto;
            padding: 12px 16px;
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 14px;
            background: rgba(255,255,255,.68);
            border: 1px solid rgba(74,144,226,.18);
            box-shadow: 0 14px 34px rgba(0,0,0,.08);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .footer-left, .footer-right{
            display:flex;
            align-items:center;
            gap:10px;
            flex-wrap: wrap;
        }
        .footer-dot{
            width: 10px;
            height: 10px;
            border-radius: 999px;
            background: var(--jessie-yellow);
            box-shadow: 0 0 0 4px rgba(255,215,0,.18);
        }
        .footer-copy{
            font-weight: 800;
            color:#2c3e50;
            letter-spacing: .2px;
        }
        .footer-icon{
            width: 30px;
            height: 30px;
            border-radius: 999px;
            display:flex;
            align-items:center;
            justify-content:center;
            border: 1px solid rgba(74,144,226,.22);
            background: rgba(74,144,226,.08);
            color:#2c3e50;
        }
        .footer-tagline{
            font-weight: 800;
            color:#2c3e50;
            opacity: .95;
        }

        /* RWD */
        @media (max-width: 900px){
            .container{ margin: 24px 14px; }
            #qText{ font-size: 22px; }
            .image-placeholder{ min-height: 200px; }
        }
        @media (max-width: 720px){
            .mode-grid{ grid-template-columns: 1fr; }
        }
        @media (max-width: 640px){
            .footer-pill{ border-radius: 22px; flex-direction: column; align-items: flex-start; }
            .footer-right{ width: 100%; }
        }
        @media (max-width: 600px){
            header{ padding: 12px 14px; }
            .brand-icon{ width: 44px; height: 44px; margin-right: 12px; }
            .brand-name{ font-size: 22px; }
            .nav-btn{ padding: 8px 14px; }
            .btn-start{ width: 100%; max-width: 420px; padding: 12px 18px; font-size: 18px; }
            input[type="text"], input[type="number"]{ width: 100%; }
            .combo-text{ font-size: 20px; }
            #qText{ font-size: 20px; }
            .image-placeholder{ min-height: 180px; }
            .image-placeholder svg{ max-width: 100%; }
            .pill-btn{ width: 100%; max-width: 520px; }
        }
    </style>
</head>
<body>

<header>
    <div class="brand">
        <div class="brand-icon"></div>
        <div class="brand-name">Jessie Math</div>
    </div>
    <div class="nav-buttons">
        <a href="https://jessiemath0703-chu.github.io/website2/" class="nav-btn">ğŸ  é¦–é </a>
        <a href="https://jessiemath0703-chu.github.io/Game-Lobby/" class="nav-btn">ğŸ® éŠæˆ²å¤§å»³</a>
        <a href="https://jessiemath0703-chu.github.io/Game-Lobby/#g6-u15" class="nav-btn btn-return">ğŸ”™ å…­å¹´ç´šè§’æŸ±èˆ‡åœ“æŸ±</a>
    </div>
</header>

<div class="container">
    <div id="page1" class="page active">
        <h2>æ­¡è¿ä¾†åˆ°è§’æŸ±èˆ‡åœ“æŸ±æŒ‘æˆ°è³½</h2>
        <div style="text-align: left; background: #fff9e6; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <p><strong>ğŸ“œ éŠæˆ²è¦å‰‡ï¼š</strong></p>
            <ul>
                <li>ç­”å°ä¸€é¡Œï¼š<strong>+100åˆ†</strong> ä¸” <strong>æ™‚é–“å¢åŠ  5 ç§’</strong>ã€‚</li>
                <li>ç­”éŒ¯ä¸€é¡Œï¼š<strong>æ™‚é–“æ‰£é™¤ 5 ç§’</strong>ã€‚</li>
                <li><strong>Combo é€£æ“Šï¼š</strong>é€£çºŒç­”å°å¯ç²å¾—åŠ å€åˆ†æ•¸ (1.2x, 1.5x, 2x)ã€‚</li>
                <li>åœ“å‘¨ç‡è«‹ä»¥ <strong>3.14</strong> è¨ˆç®—ã€‚</li>
                <li><strong>æœ¬éŠæˆ²æ¯é¡Œçš†æœ‰åœ–</strong>ï¼Œè«‹ä¾åœ–å½¢èˆ‡æ¨™ç¤ºä½œç­”ã€‚</li>
            </ul>
        </div>
        <input type="text" id="playerName" placeholder="è«‹è¼¸å…¥æ‚¨çš„åå­—" maxlength="10"><br>
        <button class="btn-start" onclick="toPage2()">é–‹å§‹æŒ‘æˆ°</button>
    </div>

    <div id="page2" class="page">
        <h3>é¸æ“‡é—œå¡ - <span id="displayName"></span>
            <span class="mode-badge" id="modeBadge">åŸºç¤ãƒ»120s</span>
        </h3>

        <div class="mode-wrap">
            <div class="mode-title">é¸æ“‡æ¨¡å¼</div>
            <div class="mode-grid">
                <div class="mode-card active" id="mode-basic" onclick="setMode('basic')">
                    <div class="mode-name">åŸºç¤</div>
                    <div class="mode-time">å€’æ•¸ 120 ç§’</div>
                </div>
                <div class="mode-card" id="mode-advanced" onclick="setMode('advanced')">
                    <div class="mode-name">é€²éš</div>
                    <div class="mode-time">å€’æ•¸ 90 ç§’</div>
                </div>
                <div class="mode-card" id="mode-boss" onclick="setMode('boss')">
                    <div class="mode-name">é­”ç‹</div>
                    <div class="mode-time">å€’æ•¸ 60 ç§’</div>
                </div>
            </div>
        </div>

        <div class="level-card" onclick="startGame(1)">
            <h4>ç¬¬ä¸€é—œï¼šè§’æŸ±èˆ‡åœ“æŸ±çš„é«”ç©</h4>
            <p>åŸºç¤æ¦‚å¿µï¼šåº•é¢ç© Ã— æŸ±é«˜</p>
        </div>
        <div class="level-card" onclick="startGame(2)">
            <h4>ç¬¬äºŒé—œï¼šè§’æŸ±èˆ‡åœ“æŸ±çš„æ‡‰ç”¨</h4>
            <p>åŒ…å«ç”Ÿæ´»æ‡‰ç”¨é¡Œèˆ‡ç©ºå¿ƒæŸ±é«”è¨ˆç®—</p>
        </div>
        <div class="level-card" onclick="startGame(3)">
            <h4>ç¬¬ä¸‰é—œï¼šè§’æŸ±èˆ‡åœ“æŸ±çš„è¡¨é¢ç©</h4>
            <p>æŒ‘æˆ°å´é¢é¢ç©èˆ‡åº•é¢é¢ç©çš„åŠ ç¸½</p>
        </div>

        <hr>
        <h4>ğŸ† å‰ååæ’è¡Œæ¦œ</h4>
        <table id="leaderboard">
            <thead>
                <tr><th>åæ¬¡</th><th>ç©å®¶</th><th>é—œå¡</th><th>æ¨¡å¼</th><th>åˆ†æ•¸</th></tr>
            </thead>
            <tbody id="leaderboardBody">
                <tr><td colspan="5">ç›®å‰ç„¡è³‡æ–™</td></tr>
            </tbody>
        </table>
    </div>

    <div id="page3" class="page">
        <div class="game-status">
            <span>æ™‚é–“: <span id="timer">120</span>s</span>
            <span>åˆ†æ•¸: <span id="score">0</span></span>
            <span class="combo-text">Combo: x<span id="combo">1</span></span>
        </div>

        <div id="questionContainer">
            <h4 id="qText">æ­£åœ¨åŠ è¼‰é¡Œç›®...</h4>

            <div id="feedback" class="feedback-box hidden"></div>

            <div id="qImage" class="image-placeholder">è¼‰å…¥åœ–å½¢ä¸­â€¦</div>

            <input type="number" id="userAnswer" placeholder="è«‹è¼¸å…¥æ•¸å­—">
            <button class="btn-start" id="submitBtn" onclick="checkAnswer()">æäº¤</button>
        </div>

        <div class="action-bar">
            <button class="pill-btn" onclick="pauseGame()">â¸ æš«åœ</button>
            <button class="pill-btn primary" onclick="resetGame()">â†» é‡æ–°é–‹å§‹</button>
            <button class="pill-btn" onclick="toPage2()">â†© å›ä¸»é¸å–®</button>
        </div>
    </div>
</div>

<script>
    let score = 0;
    let timeLeft = 120;
    let combo = 1;
    let timerInterval;
    let currentLevel = 0;
    let currentAnswer = 0;
    let playerName = "";

    let deck = [];
    let deckIndex = 0;

    let isTransitioning = false;
    const NEXT_DELAY = 650;

    let currentMode = "basic";
    const modeSeconds = { basic: 120, advanced: 90, boss: 60 };

    // ---------- å·¥å…· ----------
    function randInt(min, max){ return Math.floor(Math.random() * (max - min + 1)) + min; }
    function roundTo(n, digits=2){
        const p = Math.pow(10, digits);
        return Math.round(n * p) / p;
    }
    function shuffle(arr){
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }
    function ensureImage(qObj){
        const hasSvg = qObj && typeof qObj.svg === "string" && qObj.svg.trim().startsWith("<svg");
        document.getElementById('submitBtn').disabled = !hasSvg;
        document.getElementById('qImage').innerHTML = hasSvg ? qObj.svg : "ç¼ºå°‘åœ–å½¢ï¼Œç„¡æ³•ä½œç­”ã€‚";
    }

    function showFeedback(type, html){
        const fb = document.getElementById('feedback');
        fb.classList.remove('hidden', 'feedback-ok', 'feedback-bad');
        fb.classList.add(type === 'ok' ? 'feedback-ok' : 'feedback-bad');
        fb.innerHTML = html;
    }
    function clearFeedback(){
        const fb = document.getElementById('feedback');
        fb.classList.add('hidden');
        fb.classList.remove('feedback-ok', 'feedback-bad');
        fb.innerHTML = "";
    }

    // âœ… å„ªåŒ–å¾Œçš„ SVG å®šç¾©ï¼ˆç·šæ¢åŠ æ·±ã€ç®­é ­å„ªåŒ–ï¼‰
    function svgDimDefs(){
        return `
        <defs>
          <marker id="arrow" markerWidth="12" markerHeight="12" refX="9" refY="3" orient="auto">
            <path d="M0,0 L9,3 L0,6 Z" fill="#2c3e50"/>
          </marker>
          <style>
            .dim{ stroke:#2c3e50; stroke-width:2.5; marker-start:url(#arrow); marker-end:url(#arrow); }
            .ext{ stroke:#2c3e50; stroke-width:2; stroke-dasharray:4 4; opacity:.6; }
            .lbl{ fill:#2c3e50; font-size:20px; font-weight:800; font-family: "Arial", sans-serif; text-shadow: 1px 1px 0 #fff; }
            .cap{ fill:#2c3e50; font-size:22px; font-weight:800; }
            .note{ fill:#566; font-size:16px; font-weight:600; opacity:.9; }
            .main-shape { stroke-width: 3.5; }
          </style>
        </defs>`;
    }

    const SVG_W = 760;
    const SVG_H = 300;
    const NOTE_Y = 282;

    // ---------- SVG åœ–å½¢æ¨¡æ¿ï¼ˆå…¨é¢ä¿®æ­£æ¨™ç¤ºä½ç½®ï¼‰ ----------

    // 1. åœ“æŸ±ï¼šh æ¨™ç¤ºåœ¨å³å´ï¼Œr æ¨™ç¤ºåœ¨ä¸Šåº•é¢ï¼Œé¿å…æ··æ·†
    function svgCylinder(r, h, label="åœ“æŸ±"){
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#d7e3ff"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(100,10)">
            <path d="M140,82 L140,198" stroke="#4A90E2" class="main-shape"/>
            <path d="M360,82 L360,198" stroke="#4A90E2" class="main-shape"/>
            <ellipse cx="250" cy="198" rx="110" ry="34" fill="#f0f7ff" stroke="#4A90E2" class="main-shape"/>
            <ellipse cx="250" cy="82" rx="110" ry="34" fill="#fff" stroke="#4A90E2" class="main-shape"/>

            <circle cx="250" cy="82" r="4" fill="#2c3e50"/>
            <line x1="250" y1="82" x2="360" y2="82" class="dim"/>
            <text x="270" y="70" class="lbl">r = ${r}</text>

            <line x1="360" y1="82" x2="430" y2="82" class="ext"/>
            <line x1="360" y1="198" x2="430" y2="198" class="ext"/>
            <line x1="415" y1="82" x2="415" y2="198" class="dim"/>
            <text x="425" y="150" class="lbl">h = ${h}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">è«‹ä¾åœ–å½¢æ¨™ç¤ºä½œç­”ï¼ˆÏ€ = 3.14ï¼‰</text>
        </svg>`;
    }

    // 2. ä¸‰è§’æŸ±ï¼šæŸ±é«˜(L)æ”¹æ¨™ç¤ºåœ¨åº•éƒ¨é€£æ¥ç·šï¼Œåº•é¢é«˜(h)æ¨™ç¤ºåœ¨ä¸‰è§’å½¢å…§éƒ¨æˆ–æ—å´
    function svgTriPrism(base, height, prismH, label="ä¸‰è§’æŸ±"){
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#d8f2e4"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(60,10)">
            <polygon points="360,200 500,200 430,90" fill="#f2fbf6" stroke="#27ae60" stroke-width="2" opacity="0.6"/>
            
            <line x1="160" y1="200" x2="360" y2="200" stroke="#27ae60" class="main-shape"/>
            <line x1="300" y1="200" x2="500" y2="200" stroke="#27ae60" class="main-shape"/>
            <line x1="230" y1="90"  x2="430" y2="90"  stroke="#27ae60" class="main-shape"/>

            <polygon points="160,200 300,200 230,90" fill="#fff" stroke="#27ae60" class="main-shape"/>

            <line x1="160" y1="200" x2="160" y2="230" class="ext"/>
            <line x1="300" y1="200" x2="300" y2="230" class="ext"/>
            <line x1="160" y1="220" x2="300" y2="220" class="dim"/>
            <text x="190" y="245" class="lbl">åº•é‚Š=${base}</text>

            <line x1="230" y1="90" x2="230" y2="200" stroke="#555" stroke-dasharray="4,4" stroke-width="2"/>
            <rect x="230" y="190" width="10" height="10" fill="none" stroke="#555"/> <text x="235" y="150" class="lbl" style="fill:#d35400;">h=${height}</text>
            <text x="255" y="170" style="font-size:14px; fill:#d35400;">(åº•é¢é«˜)</text>

            <line x1="300" y1="200" x2="500" y2="200" class="dim" transform="translate(0, 25)"/>
            <line x1="300" y1="200" x2="300" y2="235" class="ext"/>
            <line x1="500" y1="200" x2="500" y2="235" class="ext"/>
            <text x="360" y="250" class="lbl">æŸ±é«˜=${prismH}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">å…ˆæ±‚åº•é¢ç©ï¼Œå†ä¹˜æŸ±é«˜</text>
        </svg>`;
    }

    // 3. æ¢¯å½¢æŸ±ï¼šåŒæ¨£å°‡æŸ±é«˜ç§»è‡³åº•éƒ¨ï¼Œæ¢¯å½¢é«˜æ¨™ç¤ºåœ¨é¢å…§
    function svgTrapezoidPrism(a, b, trapH, prismH, label="æ¢¯å½¢æŸ±"){
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#ffe0ee"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(50,10)">
            <polygon points="380,200 550,200 515,120 415,120" fill="#fff5f9" stroke="#e84393" stroke-width="2" opacity="0.6"/>

            <line x1="160" y1="200" x2="380" y2="200" stroke="#e84393" class="main-shape"/>
            <line x1="330" y1="200" x2="550" y2="200" stroke="#e84393" class="main-shape"/>
            <line x1="295" y1="120" x2="515" y2="120" stroke="#e84393" class="main-shape"/>
            <line x1="195" y1="120" x2="415" y2="120" stroke="#e84393" class="main-shape"/>

            <polygon points="160,200 330,200 295,120 195,120" fill="#fff" stroke="#e84393" class="main-shape"/>

            <line x1="195" y1="120" x2="195" y2="90" class="ext"/>
            <line x1="295" y1="120" x2="295" y2="90" class="ext"/>
            <line x1="195" y1="100" x2="295" y2="100" class="dim"/>
            <text x="210" y="90" class="lbl">ä¸Š=${a}</text>

            <line x1="160" y1="200" x2="160" y2="230" class="ext"/>
            <line x1="330" y1="200" x2="330" y2="230" class="ext"/>
            <line x1="160" y1="220" x2="330" y2="220" class="dim"/>
            <text x="210" y="245" class="lbl">ä¸‹=${b}</text>

            <line x1="295" y1="120" x2="295" y2="200" stroke="#555" stroke-dasharray="4,4" stroke-width="2"/>
            <rect x="295" y="190" width="10" height="10" fill="none" stroke="#555" transform="translate(-10,0)"/>
            <text x="235" y="170" class="lbl" style="fill:#c0392b;">h=${trapH}</text>

            <line x1="330" y1="200" x2="550" y2="200" class="dim" transform="translate(0, 25)"/>
            <line x1="330" y1="200" x2="330" y2="235" class="ext"/>
            <line x1="550" y1="200" x2="550" y2="235" class="ext"/>
            <text x="400" y="250" class="lbl">æŸ±é«˜=${prismH}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">æ¢¯å½¢é¢ç© = (ä¸Šåº•+ä¸‹åº•)Ã—é«˜Ã·2</text>
        </svg>`;
    }

    // 4. ç©ºå¿ƒåœ“æŸ±ï¼šæ¨™ç¤ºæ›´æ¸…æ¥šçš„å…§å¤–åŠå¾‘
    function svgHollowCylinder(R, r, h, label="ç©ºå¿ƒåœ“æŸ±"){
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#e5ddff"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(80,10)">
            <path d="M130,82 L130,198" stroke="#6c5ce7" class="main-shape"/>
            <path d="M370,82 L370,198" stroke="#6c5ce7" class="main-shape"/>
            <ellipse cx="250" cy="198" rx="120" ry="38" fill="#fff" stroke="#6c5ce7" class="main-shape"/>
            
            <ellipse cx="250" cy="82" rx="120" ry="38" fill="#fff" stroke="#6c5ce7" class="main-shape"/>
            <ellipse cx="250" cy="82" rx="70" ry="22" fill="#e5ddff" stroke="#6c5ce7" class="main-shape"/>
            <circle cx="250" cy="82" r="4" fill="#2c3e50"/>

            <line x1="250" y1="82" x2="370" y2="82" class="dim" transform="translate(0, -20)"/>
            <line x1="370" y1="82" x2="370" y2="60" class="ext"/>
            <line x1="250" y1="82" x2="250" y2="60" class="ext"/>
            <text x="280" y="55" class="lbl">R=${R}</text>

            <line x1="250" y1="82" x2="320" y2="82" class="dim"/>
            <text x="260" y="100" class="lbl">r=${r}</text>

            <line x1="370" y1="82" x2="440" y2="82" class="ext"/>
            <line x1="370" y1="198" x2="440" y2="198" class="ext"/>
            <line x1="425" y1="82" x2="425" y2="198" class="dim"/>
            <text x="435" y="150" class="lbl">h=${h}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">é«”ç© = (Ï€RÂ² âˆ’ Ï€rÂ²) Ã— h</text>
        </svg>`;
    }

    // 5. åœ“æŸ±å±•é–‹åœ–
    function svgNetCylinder(d, h, label="åœ“æŸ±å±•é–‹åœ–"){
        const c = roundTo(3.14 * d, 2);
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#d7e3ff"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(40,10)">
            <circle cx="140" cy="140" r="56" fill="#fff" stroke="#4A90E2" class="main-shape"/>
            <circle cx="140" cy="140" r="3.5" fill="#2c3e50"/>

            <line x1="84" y1="140" x2="196" y2="140" class="dim"/>
            <text x="110" y="130" class="lbl">d=${d}</text>

            <rect x="260" y="80" width="360" height="120" fill="#fff" stroke="#4A90E2" class="main-shape"/>

            <line x1="260" y1="80" x2="260" y2="60" class="ext"/>
            <line x1="620" y1="80" x2="620" y2="60" class="ext"/>
            <line x1="260" y1="65" x2="620" y2="65" class="dim"/>
            <text x="350" y="55" class="lbl">é•· = Ï€d = ${c}</text>

            <line x1="620" y1="80" x2="650" y2="80" class="ext"/>
            <line x1="620" y1="200" x2="650" y2="200" class="ext"/>
            <line x1="640" y1="80" x2="640" y2="200" class="dim"/>
            <text x="650" y="150" class="lbl">h=${h}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">å´é¢é¢ç© = åœ“å‘¨é•· Ã— é«˜</text>
        </svg>`;
    }

    // 6. é•·æ–¹é«”
    function svgRectPrism(l, w, h, label="é•·æ–¹é«”"){
        return `
        <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label}">
          ${svgDimDefs()}
          <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#dcf7d0"/>
          <text x="24" y="40" class="cap">${label}</text>

          <g transform="translate(100,20)">
            <polygon points="180,110 380,110 470,60 270,60" fill="#f0fff4" stroke="#27ae60" stroke-width="1.5"/>
            <line x1="180" y1="110" x2="180" y2="190" stroke="#27ae60" stroke-width="1.5" stroke-dasharray="4,4"/>
            <line x1="270" y1="60" x2="270" y2="140" stroke="#27ae60" stroke-width="1.5" stroke-dasharray="4,4"/>

            <rect x="180" y="110" width="200" height="80" fill="none" stroke="#27ae60" class="main-shape"/> <polygon points="380,190 470,140 470,60 380,110" fill="none" stroke="#27ae60" class="main-shape"/> <line x1="180" y1="110" x2="270" y2="60" stroke="#27ae60" class="main-shape"/>
            <line x1="380" y1="110" x2="470" y2="60" stroke="#27ae60" class="main-shape"/>

            <line x1="180" y1="190" x2="180" y2="220" class="ext"/>
            <line x1="380" y1="190" x2="380" y2="220" class="ext"/>
            <line x1="180" y1="210" x2="380" y2="210" class="dim"/>
            <text x="270" y="235" class="lbl">é•·=${l}</text>

            <line x1="380" y1="190" x2="470" y2="140" class="dim" transform="translate(10,10)"/>
            <text x="440" y="190" class="lbl">å¯¬=${w}</text>

            <line x1="470" y1="60" x2="520" y2="60" class="ext"/>
            <line x1="470" y1="140" x2="520" y2="140" class="ext"/>
            <line x1="500" y1="60" x2="500" y2="140" class="dim"/>
            <text x="510" y="110" class="lbl">é«˜=${h}</text>
          </g>
          <text x="24" y="${NOTE_Y}" class="note">è¡¨é¢ç© = 2(é•·Ã—å¯¬ + é•·Ã—é«˜ + å¯¬Ã—é«˜)</text>
        </svg>`;
    }

    // ---------- é¡Œåº«ï¼ˆç¶­æŒåŸé‚è¼¯ï¼‰ ----------
    function generateQuestionsForLevel(level){
        const list = [];

        if (level === 1){
            for (let i=0;i<10;i++){
                const r = randInt(3, 22);
                const h = randInt(5, 34);
                const a = roundTo(3.14 * r * r * h, 2);
                list.push({ q: `å¦‚åœ–ï¼Œåœ“æŸ±åº•é¢åŠå¾‘ ${r} cmï¼Œé«˜ ${h} cmï¼Œé«”ç©æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ`, a, svg: svgCylinder(r, h, "åœ“æŸ±ï¼ˆé«”ç©ï¼‰") });
            }

            for (let i=0;i<9;i++){
                const base = randInt(5, 28);
                const height = randInt(4, 20);
                const prismH = randInt(6, 32);
                const vol = roundTo((base * height / 2) * prismH, 2);
                list.push({ q: `å¦‚åœ–ï¼Œä¸‰è§’æŸ±åº•é‚Š ${base} cmã€åº•é¢é«˜ ${height} cmã€æŸ±é«˜ ${prismH} cmï¼Œé«”ç©æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ`, a: vol, svg: svgTriPrism(base, height, prismH, "ä¸‰è§’æŸ±ï¼ˆé«”ç©ï¼‰") });
            }

            for (let i=0;i<9;i++){
                const aTop = randInt(4, 22);
                const bBot = randInt(aTop+2, aTop+24);
                const trapH = randInt(3, 16);
                const prismH = randInt(6, 28);
                const vol = roundTo(((aTop + bBot) * trapH / 2) * prismH, 2);
                list.push({ q: `å¦‚åœ–ï¼Œæ¢¯å½¢æŸ±ä¸Šåº• ${aTop} cmã€ä¸‹åº• ${bBot} cmã€æ¢¯å½¢é«˜ ${trapH} cmã€æŸ±é«˜ ${prismH} cmï¼Œé«”ç©æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ`, a: vol, svg: svgTrapezoidPrism(aTop, bBot, trapH, prismH, "æ¢¯å½¢æŸ±ï¼ˆé«”ç©ï¼‰") });
            }
        }

        if (level === 2){
            for (let i=0;i<12;i++){
                const R = randInt(6, 20);
                const r = randInt(2, Math.max(2, R-3));
                const h = randInt(8, 36);
                const vol = roundTo((3.14*R*R - 3.14*r*r) * h, 2);
                list.push({ q: `å¦‚åœ–ï¼Œç©ºå¿ƒåœ“æŸ±å¤–åŠå¾‘ ${R} cmã€å…§åŠå¾‘ ${r} cmã€é«˜ ${h} cmï¼Œææ–™éƒ¨åˆ†é«”ç©ç´„æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ`, a: vol, svg: svgHollowCylinder(R, r, h, "ç©ºå¿ƒåœ“æŸ±ï¼ˆé«”ç©ï¼‰") });
            }

            for (let i=0;i<12;i++){
                const bigA = randInt(120, 700);
                const holeA = randInt(20, Math.min(220, bigA-40));
                const prismH = randInt(6, 40);
                const vol = roundTo((bigA - holeA) * prismH, 2);

                // âœ… æŒ–æ´é¡Œï¼šæŸ±é«˜ç¶­æŒå‚ç›´ç®­é ­ï¼Œç¢ºä¿æ¸…æ™°
                const svg = `
                <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="æŒ–æ´è§’æŸ±">
                  ${svgDimDefs()}
                  <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#ffe9c8"/>
                  <text x="24" y="40" class="cap">æŒ–æ´è§’æŸ±ï¼ˆé«”ç©ï¼‰</text>

                  <g transform="translate(90,18)">
                    <rect x="120" y="88" width="260" height="140" fill="#fff" stroke="#f39c12" class="main-shape"/>
                    <rect x="210" y="138" width="80" height="56" fill="none" stroke="#2c3e50" stroke-width="2" stroke-dasharray="6 4"/>

                    <text x="410" y="140" class="lbl">å¤§åº•é¢ç© = ${bigA}</text>
                    <text x="410" y="170" class="lbl">æŒ–æ´é¢ç© = ${holeA}</text>

                    <line x1="410" y1="88" x2="410" y2="228" class="dim"/>
                    <line x1="380" y1="88" x2="425" y2="88" class="ext"/>
                    <line x1="380" y1="228" x2="425" y2="228" class="ext"/>
                    <text x="430" y="166" class="lbl">æŸ±é«˜ = ${prismH}</text>
                  </g>
                  <text x="24" y="${NOTE_Y}" class="note">é«”ç© = (å¤§åº•é¢ç© âˆ’ æŒ–æ´é¢ç©) Ã— æŸ±é«˜</text>
                </svg>`;

                list.push({ q: `å¦‚åœ–ï¼Œè§’æŸ±çš„å¤§åº•é¢ç©ç‚º ${bigA} cmÂ²ï¼Œä¸­é–“æŒ–æ‰é¢ç© ${holeA} cmÂ² çš„å­”ï¼ŒæŸ±é«˜ ${prismH} cmï¼Œå‰©ä¸‹é«”ç©æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ`, a: vol, svg });
            }
        }

        if (level === 3){
            for (let i=0;i<14;i++){
                const d = randInt(6, 28);
                const h = randInt(6, 36);
                const area = roundTo((3.14 * d) * h, 2);
                list.push({ q: `å¦‚åœ–ï¼Œåœ“æŸ±ç›´å¾‘ ${d} cmï¼Œé«˜ ${h} cmï¼Œå´é¢é¢ç©ç´„æ˜¯å¤šå°‘å¹³æ–¹å…¬åˆ†ï¼Ÿ`, a: area, svg: svgNetCylinder(d, h, "åœ“æŸ±ï¼ˆå´é¢é¢ç©ï¼‰") });
            }

            for (let i=0;i<10;i++){
                const r = randInt(4, 18);
                const h = randInt(6, 30);
                const area = roundTo(2*3.14*r*h + 2*3.14*r*r, 2);
                const svg = `
                <svg viewBox="0 0 ${SVG_W} ${SVG_H}" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="åœ“æŸ±è¡¨é¢ç©">
                  ${svgDimDefs()}
                  <rect x="0" y="0" width="${SVG_W}" height="${SVG_H}" rx="18" fill="#ffffff" stroke="#d7e3ff"/>
                  <text x="24" y="40" class="cap">åœ“æŸ±ï¼ˆè¡¨é¢ç©ï¼‰</text>

                  <g transform="translate(100,10)">
                    <path d="M140,82 L140,198" stroke="#4A90E2" class="main-shape"/>
                    <path d="M360,82 L360,198" stroke="#4A90E2" class="main-shape"/>
                    <ellipse cx="250" cy="198" rx="110" ry="34" fill="#fff" stroke="#4A90E2" class="main-shape"/>
                    <ellipse cx="250" cy="82" rx="110" ry="34" fill="#fff" stroke="#4A90E2" class="main-shape"/>
                    
                    <circle cx="250" cy="82" r="4" fill="#2c3e50"/>
                    <line x1="250" y1="82" x2="360" y2="82" class="dim"/>
                    <text x="280" y="70" class="lbl">r=${r}</text>

                    <line x1="360" y1="82" x2="430" y2="82" class="ext"/>
                    <line x1="360" y1="198" x2="430" y2="198" class="ext"/>
                    <line x1="415" y1="82" x2="415" y2="198" class="dim"/>
                    <text x="425" y="150" class="lbl">h=${h}</text>
                  </g>
                  <text x="24" y="${NOTE_Y}" class="note">è¡¨é¢ç© = å´é¢é¢ç© + 2Ã—åº•é¢ç©</text>
                </svg>`;
                list.push({ q: `å¦‚åœ–ï¼Œåœ“æŸ±åº•é¢åŠå¾‘ ${r} cmï¼Œé«˜ ${h} cmï¼Œè¡¨é¢ç©ç´„æ˜¯å¤šå°‘å¹³æ–¹å…¬åˆ†ï¼Ÿ`, a: area, svg });
            }

            for (let i=0;i<10;i++){
                const l = randInt(4, 22);
                const w = randInt(3, 18);
                const h = randInt(3, 22);
                const area = 2*(l*w + l*h + w*h);
                list.push({ q: `å¦‚åœ–ï¼Œé•·æ–¹é«”é•· ${l} cmã€å¯¬ ${w} cmã€é«˜ ${h} cmï¼Œè¡¨é¢ç©æ˜¯å¤šå°‘å¹³æ–¹å…¬åˆ†ï¼Ÿ`, a: area, svg: svgRectPrism(l, w, h, "é•·æ–¹é«”ï¼ˆè¡¨é¢ç©ï¼‰") });
            }
        }

        if (list.length === 0){
            list.push({ q: "å¦‚åœ–ï¼Œåœ“æŸ±åº•é¢åŠå¾‘ 10 cmï¼Œé«˜ 20 cmï¼Œé«”ç©æ˜¯å¤šå°‘ç«‹æ–¹å…¬åˆ†ï¼Ÿ", a: 6280, svg: svgCylinder(10, 20, "åœ“æŸ±ï¼ˆé«”ç©ï¼‰") });
        }

        shuffle(list);
        return list;
    }

    function buildDeck(level){
        deck = generateQuestionsForLevel(level);
        shuffle(deck);
        deckIndex = 0;
    }

    function drawFromDeck(){
        if (!deck || deck.length === 0) buildDeck(currentLevel);
        if (deckIndex >= deck.length){
            shuffle(deck);
            deckIndex = 0;
        }
        const qObj = deck[deckIndex];
        deckIndex++;
        return qObj;
    }

    // ---------- æ¨¡å¼ ----------
    function setMode(mode){
        currentMode = mode;
        ["basic","advanced","boss"].forEach(m=>{
            const el = document.getElementById("mode-"+m);
            if (el) el.classList.toggle("active", m===mode);
        });

        const badge = document.getElementById("modeBadge");
        if (badge){
            const label = mode==="basic" ? "åŸºç¤ãƒ»120s" : mode==="advanced" ? "é€²éšãƒ»90s" : "é­”ç‹ãƒ»60s";
            badge.textContent = label;
        }
    }

    function getModeLabel(mode){
        return mode==="basic" ? "åŸºç¤" : mode==="advanced" ? "é€²éš" : "é­”ç‹";
    }

    // ---------- æµç¨‹æ§åˆ¶ ----------
    function toPage2() {
        playerName = document.getElementById('playerName').value;
        if (!playerName) return alert("è«‹è¼¸å…¥åå­—ï¼");
        document.getElementById('displayName').innerText = playerName;
        showPage('page2');
    }

    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if (id !== 'page3') clearInterval(timerInterval);
        if (id !== 'page3') clearFeedback();
    }

    function startGame(level) {
        currentLevel = level;
        score = 0;
        timeLeft = modeSeconds[currentMode] || 120;
        combo = 1;
        updateUI();
        showPage('page3');

        buildDeck(level);

        clearFeedback();
        nextQuestion();

        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 0) endGame();
        }, 1000);
    }

    function nextQuestion() {
        clearFeedback();
        const qObj = drawFromDeck();
        document.getElementById('qText').innerText = qObj.q;
        currentAnswer = qObj.a;
        ensureImage(qObj);
        document.getElementById('userAnswer').value = "";
        document.getElementById('userAnswer').focus();
    }

    function checkAnswer() {
        if (isTransitioning) return;
        const raw = document.getElementById('userAnswer').value;
        const userVal = parseFloat(raw);

        if (Number.isNaN(userVal)) {
            return alert("è«‹è¼¸å…¥æ•¸å­—ç­”æ¡ˆï¼");
        }

        const ok = Math.abs(userVal - currentAnswer) < 0.01;

        if (ok) {
            score += 100 * combo;
            timeLeft += 5;
            combo = (combo < 2) ? combo + 0.5 : 2;

            showFeedback('ok', `
                âœ… <span style="font-size:18px;">ç­”å°äº†ï¼</span>
                <div class="feedback-hint">+100 åˆ†ï¼ˆä¾ Combo åŠ æˆï¼‰ï½œæ™‚é–“ +5 ç§’</div>
            `);
        } else {
            timeLeft -= 5;
            combo = 1;

            showFeedback('bad', `
                âŒ <span style="font-size:18px;">ç­”éŒ¯äº†ï¼</span>
                <div class="feedback-hint">æ­£ç¢ºç­”æ¡ˆï¼š<strong>${currentAnswer}</strong> ï½œæ™‚é–“ -5 ç§’</div>
            `);
        }

        updateUI();

        isTransitioning = true;
        document.getElementById('submitBtn').disabled = true;

        setTimeout(() => {
            document.getElementById('submitBtn').disabled = false;
            isTransitioning = false;
            nextQuestion();
        }, NEXT_DELAY);
    }

    function updateUI() {
        document.getElementById('score').innerText = score;
        document.getElementById('timer').innerText = timeLeft;
        document.getElementById('combo').innerText = combo;
    }

    function endGame() {
        clearInterval(timerInterval);
        alert(`éŠæˆ²çµæŸï¼æ‚¨çš„å¾—åˆ†æ˜¯ï¼š${score}`);
        saveToLeaderboard(playerName, currentLevel, getModeLabel(currentMode), score);
        toPage2();
    }

    function saveToLeaderboard(name, lv, modeLabel, sc) {
        let board = JSON.parse(localStorage.getItem('jessieBoard') || '[]');
        board.push({name, lv, mode: modeLabel, sc});
        board.sort((a, b) => b.sc - a.sc);
        board = board.slice(0, 10);
        localStorage.setItem('jessieBoard', JSON.stringify(board));
        refreshBoard();
    }

    function refreshBoard() {
        const board = JSON.parse(localStorage.getItem('jessieBoard') || '[]');
        const tbody = document.getElementById('leaderboardBody');
        if (board.length === 0) return;

        tbody.innerHTML = board.map((item, index) => {
            let icon = index === 0 ? "ğŸ¥‡" : index === 1 ? "ğŸ¥ˆ" : index === 2 ? "ğŸ¥‰" : index + 1;
            return `<tr>
                <td>${icon}</td>
                <td>${item.name}</td>
                <td>ç¬¬${item.lv}é—œ</td>
                <td>${item.mode || "-"}</td>
                <td>${item.sc}</td>
            </tr>`;
        }).join('');
    }

    function pauseGame() { alert("éŠæˆ²æš«åœä¸­ï¼ŒæŒ‰ä¸‹ç¢ºå®šç¹¼çºŒ"); }
    function resetGame() { startGame(currentLevel); }

    window.onload = () => {
        refreshBoard();
        setMode("basic");
    };
</script>

<footer>
    <div class="footer-pill">
        <div class="footer-left">
            <div class="footer-dot" aria-hidden="true"></div>
            <div class="footer-copy">Â© 2025â€“2026 Jessie Math æ·æè€å¸«. All rights reserved.</div>
        </div>
        <div class="footer-right">
            <div class="footer-icon" aria-hidden="true"><i class="fas fa-compass"></i></div>
            <div class="footer-tagline">æ•¸å­¸ä¸è¿·è·¯ï¼ŒJessie å¸¶ä½ èµ°å‘ç†è§£ã€‚</div>
        </div>
    </div>
</footer>

</body>
</html>